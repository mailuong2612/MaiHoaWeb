@model List<MaiHoaWeb.Models.Cart>
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_UserLayout.cshtml";
}

<div class="container">
    <div class="row">
        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
            <!-- BSTORE-BREADCRUMB START -->
            <div class="bstore-breadcrumb">
                <a href="/Home/Index">HOMe</a>
                <span><i class="fa fa-caret-right	"></i></span>
                <span>Giỏ hàng</span>
            </div>
            <!-- BSTORE-BREADCRUMB END -->
        </div>
    </div>
    <div class="row">
        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"
        </div>

        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
            <!-- CART TABLE_BLOCK START -->
            <div class="table-responsive">
                <!-- TABLE START -->
                <table class="table table-bordered" id="cart-summary">
                    <!-- TABLE HEADER START -->
                    <!-- TABLE HEADER END -->
                    <!-- TABLE BODY START -->
                    <tbody>
                        <!-- SINGLE CART_ITEM START -->
                        @using (Html.BeginForm("UpdateCart", "Cart"))
                        {
                            <div class="table-responsive">
                                <table class="table table-bordered" id="cart-summary">
                                    <!-- TABLE HEADER START -->
                                    <thead>
                                        <tr>
                                            <th class="cart-product">Product</th>
                                            <th class="cart-description">Description</th>
                                            <th class="cart-unit text-right">Unit price</th>
                                            <th class="cart_quantity text-center">Qty</th>
                                            <th class="cart-delete"></th>
                                            <th class="cart-total text-right">Total</th>
                                        </tr>
                                    </thead>
                                    <!-- TABLE HEADER END -->
                                    <!-- TABLE BODY START -->
                                    <tbody>
                                        <!-- SINGLE CART_ITEM START -->
                                        @foreach (var item in Model)
                                        {
                                            <tr>
                                                <td class="cart-product">
                                                    <a href="#"><img alt="Blouse" src="@item.Image"></a>
                                                </td>
                                                <td class="cart-description">
                                                    <p class="product-name"><a href="#">@item.Name</a></p>
                                                    <small>@item.Name</small>
                                                </td>
                                                <td class="cart-unit">
                                                    <ul class="price text-right">
                                                        <li class="price">@Html.FormatValue(item.Price, "{0:#,###}") đ</li>
                                                    </ul>
                                                </td>
                                                <td class="cart_quantity text-center">
                                                    <div class="cart-plus-minus-button">
                                                        <input class="cart-plus-minus" type="number" name="qtybutton_@item.producId" value="@item.quantity">
                                                    </div>
                                                </td>
                                                <td class="cart-delete text-center">@Html.ActionLink("Xóa", "Xoagiohang", new { @iMaSp = item.producId }, new { @class = "btn btn-danger" })</td>
                                                <td class="cart-total">
                                                    <span class="price">@Html.FormatValue(item.Price * item.quantity, "{0:#,###}") đ</span>
                                                </td>
                                            </tr>
                                        }
                                        <!-- SINGLE CART_ITEM END -->
                                    </tbody>
                                    <!-- TABLE BODY END -->
                                </table>
                            </div>
                            <div class="returne-continue-shop">
                                <input type="submit" value="Cập nhật" class="btn btn-success" />
                            </div>
                        }



                        <!-- SINGLE CART_ITEM END -->
                    </tbody>
                    <!-- TABLE BODY END -->
                    <!-- TABLE FOOTER START -->
                    <tfoot>
                        <tr class="cart-total-price">
                            <td class="cart_voucher" colspan="3" rowspan="4"></td>
                        </tr>

                        <tr>
                            <td class="total-price-container text-right" colspan="3">
                                <span>Total</span>
                            </td>
                            <td id="total-price-container" class="price" colspan="1">
                                <span id="total-price">@Html.FormatValue(Model.Sum(x => x.Price * x.quantity), "{0:#,###}")</span>
                            </td>
                        </tr>
                    </tfoot>
                    <!-- TABLE FOOTER END -->
                </table>
                <!-- TABLE END -->
            </div>
            <!-- CART TABLE_BLOCK END -->
        </div>

        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
            <!-- RETURNE-CONTINUE-SHOP START -->
            <div class="returne-continue-shop">
                @*@Html.ActionLink("Xóa giỏ hàng", "XoaTatcaGiohang", new { @class = "btn btn-danger" })*@
                <a href="/Cart/XoaTatcaGiohang/" class="btn btn-danger">Xóa giỏ hàng</a>
            </div>
            <div class="returne-continue-shop">
                <a href="/Home/Index/" class="continueshoping"><i class="fa fa-chevron-left"></i>Tiếp tục mua sắm</a>
                <a href="/Cart/Dathang/" class="procedtocheckout">Đặt hàng<i class="fa fa-chevron-right"></i></a>

            </div>


            <!-- RETURNE-CONTINUE-SHOP END -->
        </div>
    </div>
</div>

